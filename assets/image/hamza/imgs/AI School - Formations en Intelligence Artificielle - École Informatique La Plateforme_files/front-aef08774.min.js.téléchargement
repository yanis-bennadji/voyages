"use strict";(window.webpackChunkdivi_areas_pro=window.webpackChunkdivi_areas_pro||[]).push([[58],{257:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(t,n,r){var o=n.DiviArea||{},i=o.Pro=o.Pro||{},a=o.Utils=o.Utils||{},c=(o.Debug=o.Debug||{},o.Data=o.Data||{}),s=t(r),u=t(n),f=n.DiviAreaConfig||{},d=[],l=0,h=null,p=[],g=!1;function v(e,r){if(e&&e.type&&r.isType("hover")){var o=!1,i=!1;if(e.currentTarget?o=t(e.currentTarget):e instanceof jQuery?o=e.first():n.HTMLElement&&e instanceof n.HTMLElement&&(o=t(e)),o&&1===o.length){var c,u=r.getWrap(),f=r.id,d="fixed"===a.getPositionType(o),l=r.getData("closeTrigger"),h=1e3*r.getData("closedelay");c=r.getCloseButton(),r.setData("attachto",o),a.observePosition(o,p),"click"===l?s.on("click",g):"hover"===l&&(r.on("mouseleave",v),c.on("mouseleave",v),o.on("mouseleave",v)),o.on("mouseenter",m),c.on("mouseenter",m),r.on("mouseenter",m),r.addAction("close_area",y),r.addAction("setup_area",y,1),r.addAction("resize_area",p),r.log("Prepared Hover Area. Attached to",o)}else r.error("Hover Area without alignment element found")}function p(){var e=d?o[0].getBoundingClientRect():a.getClientRect(o),t=r.getData("positionv"),i=r.getData("positionh"),c=r.getSize(),s={},f={left:"",top:"",right:"",bottom:"",width:"",height:"",position:d?"fixed":"absolute"};"top"===t||"bottom"===t?(f.top="top"===t?e.top-c.height:e.bottom,f.left=e.left+e.width/2-c.width/2):"left"===i||"right"===i?(f.left="left"===i?e.left-c.width:e.right,f.top=e.top+e.height/2-c.height/2):"center"===i&&"center"===t?(f.left=e.left+e.width/2-c.width/2,f.top=e.top+e.height/2-c.height/2):r.error("Invalid position",r.getData("position")),f.top<0&&(f.top=0),f.left<0&&(f.left=0),f.left+c.width>n.innerWidth&&(f.left=n.innerWidth-c.width),r.doAction("position_area",f,s,r),r.debug("Area position:",f),u.css(f),r.css(s)}function g(e){t(e.target).closest(f).length||v()}function v(){m(),i=setTimeout(y,h)}function m(){i&&clearTimeout(i),i=!1}function y(){var e;e=r.getCloseButton(),a.unobservePosition(o,p),s.off("click",g),m(),r.off("mouseleave",v),r.off("mouseenter",m),e.off("mouseleave",v),e.off("mouseenter",m),o.off("mouseleave",v),o.off("mouseenter",m),r.removeAction("close_area",y),r.removeAction("resize_area",p),r.removeAction("setup_area",y,1),r.setData("attachto",!1),r.hide()}}function m(t){if("object"===e(t)){var n=[];for(var r in t)t.hasOwnProperty(r)&&"action"!==r&&null!==t[r]&&n.push(r+"="+encodeURIComponent(t[r]));return n.join("&")}return"string"==typeof t?(-1!==t.indexOf("?")&&(t=t.substr(t.indexOf("?")+1)),t):""}function y(){var e,t=this;this.setArgDefault("once",!0),this.onStart=function(n){e||(e=setTimeout(t.run,t.delay))},this.onStop=function(t){e&&clearTimeout(e),e=0}}function w(){var e,n=this;this.setArgDefault("once",!0);var r=this.getArgs("percent"),o=this.getArgs("distance"),i=this.getArgs("selector");if(-1!==r)e=function(e){u.scrollTop()/(s.outerHeight()-u.innerHeight())>=r&&n.run(e)};else if(-1!==o)e=function(e){"px"!==o[1]&&(o[0]=a.toPixel(o[0],o[1]),o[1]="px"),u.scrollTop()>=o[0]&&n.run(e)};else if(i){var c=t(i);e=function(e){for(var r=0;r<c.length;r++){var o=t(c[r]),i=o.offset().top,a=i+o.outerHeight(),s=u.scrollTop(),f=s+u.height();if(a>s&&i<=f)return n.run(e),!1}}}this.onStart=function(t){e&&(n.stop(),u.on("scroll resize",e))},this.onStop=function(t){e&&u.off("scroll resize",e)}}function b(e){var t=this,n=["focus","blur","resize","mousedown","mouseup","mousemove","keydown","keyup","mousewheel","wheel","scroll","touchstart","touchmove"],o=0;this.setArgDefault("once",!0);var i=function(){t.run(0),t.getArgs("once")||e.addAction("hide_area",t.start)},a=function(){o&&clearTimeout(o),o=setTimeout(i,t.delay)};this.onStart=function(e){t.stop(),n.map((function(e){r.addEventListener(e,a,!0)})),a()},this.onStop=function(e){n.map((function(e){r.removeEventListener(e,a,!0)})),o&&clearTimeout(o),o=0}}function T(){var e=this,t=s,n="visibilitychange";void 0===r.hidden&&(t=u,n="focus"),this.onStart=function(r){e.stop(),t.on(n,e.run)},this.onStop=function(r){t.off(n,e.run)}}function A(e){var t=this,r=n.history,o=n.location,i=o.hash,a=function(n){var a=o.hash;a&&(e.hasId(a)||-1!==t.getArgs("hashes").indexOf(a))?(i===a&&(i=""),t.run(n),r.replaceState?r.replaceState(r.state,"",o.pathname+i):o.hash=i):i=a};this.onStart=function(e){t.stop(),n.addEventListener("hashchange",a,!1),a(!1)},this.onStop=function(e){n.removeEventListener("hashchange",a,!1)}}function D(e){var t=this,o=n.history,i=e.id;if(o&&o.replaceState){var c=function(){var e,t=p.length>0,i=t?a.session:"",c=null!==(e=o.state)&&void 0!==e?e:{};c.dmQueue=i,t?(o.pushState(c,"",""),r.body.addEventListener("click",(function(){})),n.addEventListener("popstate",s)):(o.replaceState(c,"",""),n.removeEventListener("popstate",s))},s=function(e){var t=!1;if(p.length&&(t=p.shift()),a.scrollFix(!0),c(),setTimeout(a.scrollFix,5),t&&t.trigger)return t.trigger(e),e.preventDefault(),!1};this.onStart=function(e){-1===p.indexOf(i)&&p.push({id:i,trigger:t.run}),g||(g=!0),c()},this.onStop=function(e){(p=p.filter((function(e){return e.id!==i}))).length||(g=!1),c()}}}function k(e,n){if(n.isType("inline")&&n.getData("static"))return!1;var r=a.getOption("keepInDom");if(r=n.applyFilters("area_init_in_dom",r))n.prepared||(n.hide(),function(e){function n(e,t){e.attr("data-delay-"+t,e.attr(t)),e.attr(t,e.attr(t)+"/delay")}function r(e,t){e.attr("data-delay-"+t,e.attr(t)),e.removeAttr(t)}e.find("[type]").each((function(){n(t(this),"type")})),e.find("[rel]").each((function(){n(t(this),"rel")})),e.find("[src]").each((function(){r(t(this),"src")})),e.find("[srcset]").each((function(){r(t(this),"srcset")})),e.find("[data]").each((function(){r(t(this),"data")})),e.find("img,iframe").attr("loading","lazy")}(n),n.addActionOnce("setup_area",_));else{var o=500;o=n.applyFilters("area_preparation_time",o),o=parseInt(o),(isNaN(o)||o<0)&&(o=0),setTimeout((function(){n.prepared||n.detach(!1)}),o)}return!0}function _(e,n){function r(e,t){var n="data-delay-"+t;e.attr(t,e.attr(n)),e.removeAttr(n)}function o(e,t){var n="data-delay-"+t;e.attr(t,e.attr(n)),e.removeAttr(n)}n.find("[data-delay-type]").each((function(){r(t(this),"type")})),n.find("[data-delay-rel]").each((function(){r(t(this),"rel")})),n.find("[data-delay-src]").each((function(){o(t(this),"src")})),n.find("[data-delay-srcset]").each((function(){o(t(this),"srcset")})),n.find("[data-delay-data]").each((function(){o(t(this),"data")}))}function x(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n].split("="),o=r.shift(),i=!r.length||r.join("="),c=a.getUrlParam(o);if(!0===i&&void 0!==c||i===c){t=!0;break}}return t}function S(e){var t,n=!1,o=[".google.com/",".yahoo.com/",".bing.com/",".baidu.com/","yandex.com/",".ask.com/","duckduckgo.com/","search."],i=[".instagram.com/","instagram.com/",".facebook.com/","facebook.com/","t.co/","pinterest.com/","youtube.com/",".linkedin.com/","linkedin.com/"];n||r.referrer||-1!==e.indexOf("none")&&(n=!0);var a=r.referrer.replace(/^.*?:\/\//,"");if(n||-1===e.indexOf("internal")||0===a.indexOf(location.host)&&(n=!0),n||-1===e.indexOf("external")||0!==a.indexOf(location.host)&&(n=!0),!n&&-1!==e.indexOf("search"))for(t=0;t<o.length;t++){var c=a.indexOf(o[t]);if(c>0&&c<4){n=!0;break}}if(!n&&-1!==e.indexOf("social"))for(t=0;t<i.length;t++){var s=a.indexOf(i[t]);if(s>0&&s<4){n=!0;break}}return n}function O(e){var t=!1;if(e&&e.length&&r.referrer)for(var n=r.referrer.replace(/^.*?:\/\//,""),o=0;o<e.length;o++)try{if(new RegExp(e[o].replace(/[-\/\\.+?]/g,"\\$&").replace("*",".*")).test(n)){t=!0;break}}catch(e){}return t}i.trackEvent=function(e,t,n){var r={};e.postId&&t&&(r.i=e.postId,r.e=t,r.s=e.session,void 0!==n&&""!==n&&(r.p=n),d.push(r),function(){l&&clearTimeout(l);function e(){if(l=0,d.length){for(var e=[],t=0;d.length;){var n=d.shift(),r=[];for(var o in n)n.hasOwnProperty(o)&&r.push(o+"["+t+"]="+encodeURIComponent(n[o]));t++,e.push(r.join("&"))}i.sendData("dap_atd",e.join("&"))}}l=setTimeout(e,50)}())},i.sendData=function(e,t){var n=new Image(1,1),r=a.getOption("ajaxUrl");if(!r)return!1;var o=i.getDeviceId();return o?(t=m(t),t+="&_="+o,t+="&action="+e,n.src=r+"?"+t,!0):(setTimeout((function(){return i.sendData(t)}),100),!0)},i.fetchData=function(e,r){var o=a.getOption("ajaxUrl");o||(o="/wp-admin/admin-ajax.php"),r=m(r);var i=o+"?"+(r+="&action="+e);return"function"==typeof n.fetch?fetch(i,{credentials:"omit"}).then((function(e){return e.text()})).then((function(e){try{var t=JSON.parse(e);return Promise.resolve(t)}catch(t){return Promise.resolve(e)}})):t.ajax(i)},i.getDeviceId=function(){return h||(n.localStorage&&(h=localStorage.getItem("dap-uuid")),h&&"string"==typeof h||(h="",i.fetchData("dm_device_id").then((function(e){e&&"string"==typeof e&&((h=e).length>40||h.indexOf("<")>=0)&&(h=""),h||(h=+new Date),n.localStorage&&localStorage.setItem("dap-uuid",h)})))),h},i.initTracking=function(e){var n=0;function r(){n=+new Date,e.trackEvent("show")}function o(){var t=0;n&&(t=parseInt((+new Date-n)/1e3)),e.trackEvent("hide",t)}function i(n){var r=t(n.target).closest("[id]");r.attr("data-da-area")||e.trackEvent("click",r.attr("id"))}function a(){e.addAction("show_area",r),e.addAction("hide_area",o),e.on("click",i)}e.prepared?a():e.addAction("area_prepared",a)},i.checkConditions=function(e,t){var n=new Promise((function(e){return e()}));return t&&(t.pa1&&(n=n.then((function(){return new Promise((function(e,n){x(t.pa1)?e():n(["Required params not found",t.pa1])}))}))),t.pa0&&(n=n.then((function(){return new Promise((function(e,n){x(t.pa0)?n(["Forbidden params found",t.pa0]):e()}))}))),(t.re1||t.rc1)&&(n=n.then((function(){return new Promise((function(e,n){S(t.re1)||O(t.rc1)?e():n(["Required referrer not found",t.re1,t.rc1])}))}))),(t.re0||t.rc0)&&(n=n.then((function(){return new Promise((function(e,n){S(t.re0)||O(t.rc0)?n(["Forbidden referrer found",t.re0,t.rc0]):e()}))}))),f.ajaxUrl&&t.cav&&(n=n.then((function(){return new Promise((function(n,r){var o={a:e.postId,c:1===t.cav?null:t.cav};i.fetchData("dap_cav",o).then((function(e){e&&e.success&&e.data?n():r("Scheduled Area is not active right now")}))}))})))),n=e.applyFilters("area_general_conditions",n)},o.addAction("ready",(function(){"DiviArea"===o.lib&&(c.registerTriggerType("delay",y),c.registerTriggerType("scroll",w),c.registerTriggerType("inactive",b),c.registerTriggerType("focus",T),c.registerTriggerType("hash",A),c.registerTriggerType("back",D),o.addFilter("pre_init_area",k),i.getDeviceId(),o.addAction("setup_area",v))}),-1)}(jQuery,window,document)}}]);